<!DOCTYPE html>
<html>
<head>
    <title>All Posts</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <h1>All Posts</h1>
    <ul>
        <% posts.forEach(post => { %>
            <li>
                <%= post.title %> - <%= post.likes %> Likes
                <% if (post.imageUrl) { %>
                    <img src="/<%= post.imageUrl %>" alt="Post Image" width="100">
                <% } %>
            </li>
            <form action="/posts/<%= post._id %>/like" method="POST">
                <button type="submit">Like</button>
            </form>
            <form action="/posts/<%= post._id %>/delete" method="POST">
                <button type="submit">Delete</button>
            </form>
        <% }) %>
    </ul>
    <a href="/posts/new">Create New Post</a>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        socket.on('postLiked', (postId) => {
            // Handle real-time updates for likes
        });
    </script>
</body>
</html>
